<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
    ]>
    <!--[if IE 8]>         <html class="ie8"> <![endif]-->
    <!--[if IE 9]>         <html class="ie9 gt-ie8"> <![endif]-->
    <!--[if gt IE 9]><!-->    
    <html class="gt-ie8 gt-ie9 not-ie" xmlns="http://www.w3.org/1999/xhtml"
          xmlns:ui="http://java.sun.com/jsf/facelets"
          xmlns:p="http://primefaces.org/ui"
          xmlns:h="http://java.sun.com/jsf/html"
          xmlns:f="http://java.sun.com/jsf/core">
        <!--<![endif]-->
        <f:view contentType="text/html" encoding="UTF-8">
            <h:head>
                <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
                <meta http-equiv="Pragma" content="no-cache" />
                <meta http-equiv="Expires" content="0" />
                <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                <meta charset="utf-8"/>
                <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
                <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
                <title><ui:insert name="title">GoDesk Platform</ui:insert></title>           



                <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&amp;subset=latin" rel="stylesheet" type="text/css"></link>
                <!-- Pixel Admin's stylesheets -->

                <link href="#{facesContext.externalContext.requestContextPath}/resources/stylesheets/bootstrap.min.css" rel="stylesheet" type="text/css"/>
                <link href="#{facesContext.externalContext.requestContextPath}/resources/stylesheets/pixel-admin.min.css" rel="stylesheet" type="text/css"/>
                <link href="#{facesContext.externalContext.requestContextPath}/resources/stylesheets/pages.min.css" rel="stylesheet" type="text/css"/>
                <link href="#{facesContext.externalContext.requestContextPath}/resources/stylesheets/themes.min.css" rel="stylesheet" type="text/css"/>
                <link href="#{facesContext.externalContext.requestContextPath}/resources/css/custom.css" rel="stylesheet" type="text/css"/>

                <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"/>


                <h:outputScript name="jsf.js" library="javax.faces"/>

                <ui:insert name="head"></ui:insert>
                <ui:insert name="scripts"></ui:insert>
            </h:head>

            <h:body id="mainbody" styleClass="theme-default page-signup">  
                
                 <script>
                    var init = [];
                </script>

                <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />

                <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                    <div class="text-center">
                        <p:outputLabel value="Estamos creando su cuenta, favor espere unos segundos..."/>
                        <br/>
                        <p:graphicImage library="images" name="ajaxloadingbar.gif" />
                    </div>
                </p:dialog>

                <!-- Page background -->
                <div id="page-signup-bg">
                    <!-- Background overlay -->
                    <div class="overlay"></div>

                    <p:graphicImage library="images" name="signin-bg-1.jpg" title="GoDesk"/>
                </div>
                <!-- / Page background -->

                <!-- Container -->
                <div class="signup-container">
                    <!-- Header -->
                    <div class="signup-header">
                        <a href="#" class="logo">
                            Registrate en GoDesk
                        </a> <!-- / .logo -->
                        <div class="slogan">
                            Es Simple, flexible y poderoso.
                        </div> <!-- / .slogan -->
                    </div>
                    <!-- / Header -->

                    <!-- Form -->
                    <div class="signup-form">
                        <h:form id="signup-form_id">

                            <div class="signup-text">
                                <span>1 mes de prueba gratis</span>
                            </div>

                            <p:messages/>

                            <div class="form-group w-icon">
                                <h:inputText id="signup_name" required="true" requiredMessage="Nombre completo is required"
                                             styleClass="form-control input-lg" value="#{signUpController.registrationVO.fullName}" autocomplete="off"/>  
                                <p:watermark for="signup_name" value="Nombre completo"/>
                                <span class="fa fa-info signup-form-icon"></span>
                            </div>

                            <div class="form-group w-icon">
                                <h:inputText id="signup_email" required="true" requiredMessage="E-Mail is required" 
                                             validator="#{inputValidationBean.validarEmail}"
                                             styleClass="form-control input-lg" value="#{signUpController.registrationVO.email}" autocomplete="off"/> 
                                <p:watermark for="signup_email" value="E-Mail"/>
                                <span class="fa fa-envelope signup-form-icon"></span>
                            </div>

                            <div class="form-group w-icon">
                                <h:inputText id="signup_phone" required="true" requiredMessage="Phone is required" 
                                             validator="#{inputValidationBean.validatePhoneNumber}"
                                             styleClass="form-control input-lg" value="#{signUpController.registrationVO.phoneNumber}" autocomplete="off"/> 
                                <p:watermark for="signup_phone" value="Phone"/>
                                <span class="fa fa-phone signup-form-icon"></span>
                            </div>

                            <div class="form-group w-icon">
                                <h:inputText id="signup_username" required="true" requiredMessage="Nombre de usuario is required"
                                             styleClass="form-control input-lg" autocomplete="off"
                                             value="#{signUpController.registrationVO.username}"/>  
                                <p:watermark for="signup_username" value="Nombre de usuario"/>

                                <span class="fa fa-user signup-form-icon"></span>
                            </div>

                            <div class="form-group w-icon">
                                <p:password id="signup_password" required="true" requiredMessage="Contraseña is required"
                                            feedback="true" 
                                            styleClass="form-control input-lg" autocomplete="off"
                                            value="#{signUpController.registrationVO.password}"/>  
                                <p:watermark for="signup_password" value="Contraseña"/>
                                <span class="fa fa-lock signup-form-icon"></span>
                            </div>

                            <div class="form-group w-icon">
                                <p:password id="signup_password2" required="true" requiredMessage="Confirma tu contraseña"
                                            feedback="true" 
                                            styleClass="form-control input-lg" autocomplete="off"
                                            value="#{signUpController.registrationVO.passwordConfirm}"/>  
                                <p:watermark for="signup_password2" value="Confirma tu contraseña"/>
                                <span class="fa fa-lock signup-form-icon"></span>
                            </div>

                            <div class="form-group w-icon">
                                <h:inputText id="companyName" required="true" requiredMessage="Empresa u organización is required"
                                             validator="#{signUpController.validateCompanyName}"
                                             styleClass="form-control input-lg" autocomplete="off"
                                             value="#{signUpController.registrationVO.companyName}">

                                    <f:validateLength minimum="3" />


                                </h:inputText>
                                <p:watermark for="companyName" value="Empresa u organización"/>

                                <span class="fa fa-building signup-form-icon"></span>
                            </div>


                            <div class="form-group" style="margin-top: 20px;margin-bottom: 20px;">
                                <label class="checkbox-inline">
                                    <h:selectBooleanCheckbox id="confirm_id" styleClass="px" 
                                                             value="#{signUpController.agreedToTermsConditions}"/>
                                    <span class="lbl">I agree with the <a href="#" target="_blank">Terms and Conditions</a></span>
                                </label>
                            </div>

                            <div class="form-actions">
                                <p:commandButton id="submit" action="#{signUpController.signup()}" 
                                                 styleClass="signup-btn bg-primary" update=":signup-form_id"
                                                 onclick="jQuery(this).addClass('ui-state-disabled')"
                                                 value="COMENZAR" />

                            </div>

                        </h:form>


                        <!-- "Sign In with" block -->
                        <div class="signup-with">
                            <!-- Facebook -->
                            <a href="index.html" class="signup-with-btn" style="background:#4f6faa;background:rgba(79, 111, 170, .8);">Sign Up with <span>Facebook</span></a>

                            <a href="index.html" class="signup-with-btn" style="background:#4f6faa;background:rgba(79, 111, 170, .8);">Sign Up with <span>LinkedIn</span></a>
                        </div>
                        <!-- / "Sign In with" block -->
                    </div>
                    <!-- Right side -->
                </div>

                <div class="have-account">
                    Already have an account? <a href="login.xhtml">Sign In</a>
                </div>


                <script src="#{facesContext.externalContext.requestContextPath}/resources/javascripts/bootstrap.min.js"></script>

                <script src="#{facesContext.externalContext.requestContextPath}/resources/javascripts/pixel-admin.min.js"></script>

                <!-- Get jQuery from Google CDN -->
                <!--[if !IE]> -->
                <script type="text/javascript">
                                                     //<![CDATA[
                                                     window.jQuery || document.write('<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js">' + "<" + "/script>");
                                                     //]]>
                </script>

                <!-- <![endif]-->
                <!--[if lte IE 9]>
                 <script type="text/javascript">
                    //<![CDATA[
                    window.jQuery || document.write('<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js">'+"<"+"/script>");
                    //]]>
               </script>
                <![endif]-->




                <script type="text/javascript">
                    // Resize BG
                    //<![CDATA[
                    init.push(function () {
                        var $ph = $('#page-signup-bg'),
                                $img = $ph.find('> img');

                        $(window).on('resize', function () {
                            $img.attr('style', '');
                            if ($img.height() < $ph.height()) {
                                $img.css({
                                    height: '100%',
                                    width: 'auto'
                                });
                            }
                        });

                        $("#signup-form_id").validate({focusInvalid: true, errorPlacement:
                                    function () {
                                    }
                        });

                        // Validate name
                        $("#name_id").rules("add", {
                            required: true,
                            minlength: 1
                        });

                        // Validate email
                        $("#email_id").rules("add", {
                            required: true,
                            email: true
                        });

                        // Validate username
                        $("#username_id").rules("add", {
                            required: true,
                            minlength: 3
                        });

                        // Validate password
                        $("#password_id").rules("add", {
                            required: true,
                            minlength: 6
                        });

                        // Validate confirm checkbox
                        $("#confirm_id").rules("add", {
                            required: true
                        });
                    });

                    window.PixelAdmin.start(init);
                    //]]>
                </script>


            </h:body>
        </f:view>
    </html>